
%% 绘制曲线与计算增量占比的代码
clc;clear;
t=2013:2021;

%% 数据，每一行代表一年，从上往下一次是除去2013 2014 2014 2016 ...
data=[
0.148677599161668   0.150025352123489   0.151159789766447   0.147907018284603   0.152018782869598    0.14752028302141   0.102691174772785;
0.14918412828713   0.150243599942415   0.150984153186835   0.147913096823321   0.151320036567578   0.148067108418773   0.102287876773948;
0.149512306686362   0.150675862643884   0.150911124036571   0.147770742586223   0.150593751893564    0.14852179669762   0.102014415455776;
0.150044283564979   0.150959675665387   0.150835614243291   0.147631558593979   0.149615683568568   0.149103835187834   0.101809349175963;
0.150744610356712   0.151184624823945    0.15085519991839   0.147736251908495   0.147901390341343   0.149850570616343   0.101727352034772;
0.151493659014732   0.151983075426535   0.151177105903067   0.148693776318764   0.143907713180451   0.150675573752643   0.102069096403807;
0.154083991208675   0.158404937066726   0.156443389889597   0.156723570777644   0.113188694239102   0.155928621584352   0.105226795233903;
% 0.150111805113572   0.149400392522165   0.149879874598201   0.149324606106001   0.151013988741874   0.150580387049641    0.0996889458685474
];
tlabel=["2013-2021","2014-2021",  "2015-2021","2016-2021","2017-2021","2018-2021" ,"2019-2021","2021-2021" ];
t=2013:2019;
[row,col]=size(data);
for i=1:7
    y=data(1:row,i:i);
    plot(t,y , "LineWidth",1.8 ), ;
    hold on;
end
legend("数字化产业","金融产业","商业","教培行业","文化餐饮旅游","医疗社会保障","其它服务业")
ylabel("权重")
title("各年份至2021年服务业主要产业权重变化情况")
xticklabels( tlabel );
xticks(t);
xlabel("各年份区间");


%% 计算权重增幅占比
zengfu=[];
for i=1:7
    zengfu(i)= data(row-4 ,i )- data(1,i);
end
% disp(zengfu);
sum=0;
[row,col] = size(data);
for i=1:7
    sum=sum+abs(  zengfu(i)  );
end
% disp(sum);
zengfu  =  zengfu  /  sum;
disp(zengfu);
